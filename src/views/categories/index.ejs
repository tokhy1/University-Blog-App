<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>All Categories</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 font-sans m-0 p-0">

    <%- include("../partials/navbar") %>

    <div class="max-w-4xl mx-auto mt-10 bg-white p-8 rounded-xl shadow-md">
      <div class="flex items-center justify-between mb-6">
        <h1 class="text-2xl font-bold text-gray-900">Categories</h1>
        <a href="/categories/create" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg">
          Add New Category
        </a>
      </div>

      <div class="overflow-x-auto">
        <table class="min-w-full border border-gray-200 divide-y divide-gray-200">
          <thead class="bg-gray-100">
            <tr>
              <th class="px-4 py-2 text-left text-gray-700 font-medium">ID</th>
              <th class="px-4 py-2 text-left text-gray-700 font-medium">Name</th>
              <th class="px-4 py-2 text-left text-gray-700 font-medium">Description</th>
              <th class="px-4 py-2 text-left text-gray-700 font-medium">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <% if (categories.length === 0) { %>
            <tr>
              <td colspan="4" class="px-4 py-2 text-gray-500 text-center">No categories found.</td>
            </tr>
            <% } else { %>
            <% categories.forEach(cat => { %>
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-2 text-gray-700"><%= cat.cat_id %></td>
              <td class="px-4 py-2 text-gray-700"><%= cat.name %></td>
              <td class="px-4 py-2 text-gray-700"><%= cat.description %></td>
              <td class="px-4 py-2 flex gap-2">
                <a href="/categories/<%= cat.cat_id %>/edit" class="bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-3 rounded-lg">
                  Edit
                </a>
                <form action="/categories/<%= cat.cat_id %>/delete" method="POST">
                  <button type="submit" class="bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded-lg">
                    Delete
                  </button>
                </form>
              </td>
            </tr>
            <% }) %>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>

    <%- include("../partials/footer") %>
  </body>
</html>
